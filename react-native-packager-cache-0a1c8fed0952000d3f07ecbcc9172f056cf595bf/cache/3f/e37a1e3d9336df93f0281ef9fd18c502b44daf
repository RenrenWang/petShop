Object.defineProperty(exports, "__esModule", {
    value: true
});
var _jsxFileName = '/Volumes/work/reactnative/petShop/js/setup.js';

var _react = require('react');

var _react2 = babelHelpers.interopRequireDefault(_react);

var _reactNative = require('react-native');

var _reactNavigation = require('react-navigation');

var _CardStackStyleInterpolator = require('react-navigation/src/views/CardStackStyleInterpolator');

var _CardStackStyleInterpolator2 = babelHelpers.interopRequireDefault(_CardStackStyleInterpolator);

var _StyleConfig = require('./base/StyleConfig');

var _StyleConfig2 = babelHelpers.interopRequireDefault(_StyleConfig);

var _Home = require('./page/Home');

var _Home2 = babelHelpers.interopRequireDefault(_Home);

var _Cart = require('./page/Cart');

var _Cart2 = babelHelpers.interopRequireDefault(_Cart);

var _reactNativeStorage = require('react-native-storage');

var _reactNativeStorage2 = babelHelpers.interopRequireDefault(_reactNativeStorage);

var _SpecialOffer = require('./page/SpecialOffer');

var _SpecialOffer2 = babelHelpers.interopRequireDefault(_SpecialOffer);

var _Me = require('./page/Me');

var _Me2 = babelHelpers.interopRequireDefault(_Me);

var _SetTime = require('./page/SetTime');

var _SetTime2 = babelHelpers.interopRequireDefault(_SetTime);

var _Login = require('./page/Login');

var _Login2 = babelHelpers.interopRequireDefault(_Login);

var _Register = require('./page/Register');

var _Register2 = babelHelpers.interopRequireDefault(_Register);

var _Classify = require('./page/Classify');

var _Classify2 = babelHelpers.interopRequireDefault(_Classify);

var _NavBar = require('./components/NavBar');

var _NavBar2 = babelHelpers.interopRequireDefault(_NavBar);

var _SetMeal = require('./page/SetMeal');

var _SetMeal2 = babelHelpers.interopRequireDefault(_SetMeal);

var _SetMealD = require('./page/SetMealD');

var _SetMealD2 = babelHelpers.interopRequireDefault(_SetMealD);

var _Details = require('./page/Details');

var _Details2 = babelHelpers.interopRequireDefault(_Details);

var _AllOrderForm = require('./page/AllOrderForm');

var _AllOrderForm2 = babelHelpers.interopRequireDefault(_AllOrderForm);

var _MyPet = require('./page/MyPet');

var _MyPet2 = babelHelpers.interopRequireDefault(_MyPet);

var _Search = require('./page/Search');

var _Search2 = babelHelpers.interopRequireDefault(_Search);

var _ShippingAddress = require('./page/ShippingAddress');

var _ShippingAddress2 = babelHelpers.interopRequireDefault(_ShippingAddress);

var _AddShippingAddress = require('./page/AddShippingAddress');

var _AddShippingAddress2 = babelHelpers.interopRequireDefault(_AddShippingAddress);

var _Order = require('./page/Order');

var _Order2 = babelHelpers.interopRequireDefault(_Order);

var _Setting = require('./page/Setting');

var _Setting2 = babelHelpers.interopRequireDefault(_Setting);

var _PayResult = require('./page/PayResult');

var _PayResult2 = babelHelpers.interopRequireDefault(_PayResult);

global.storage = new _reactNativeStorage2.default({
    size: 1000,

    storageBackend: _reactNative.AsyncStorage,

    defaultExpires: 1000 * 3600 * 24 * 30,

    enableCache: true

});
var TabScreen = (0, _reactNavigation.TabNavigator)({
    Home: {
        screen: _Home2.default

    },
    SpecialOffer: {
        screen: _SpecialOffer2.default,
        navigationOptions: function navigationOptions(_ref) {
            var navigation = _ref.navigation;
            return {};
        }

    },
    Cart: {
        screen: _Cart2.default,
        navigationOptions: function navigationOptions(_ref2) {
            var navigation = _ref2.navigation;
            return {};
        }

    },
    Me: {
        screen: _Me2.default,

        navigationOptions: function navigationOptions(_ref3) {
            var navigation = _ref3.navigation;
            return {};
        }

    }

}, {
    tabBarComponent: _reactNavigation.TabBarBottom,
    tabBarPosition: 'bottom',

    lazy: true,

    swipeEnabled: false,

    animationEnabled: false,
    tabBarOptions: {
        tabStyle: {
            backgroundColor: "#fff"
        },
        style: {
            height: 50,
            backgroundColor: "#fff"
        },
        labelStyle: {
            fontSize: _StyleConfig2.default.fontSize.size_12

        },
        showIcon: true,
        indicatorStyle: { height: 0 },

        activeTintColor: _StyleConfig2.default.colors.mainColor

    }
});

var RootScene = (0, _reactNavigation.StackNavigator)({
    TabScreen: {
        screen: TabScreen

    },
    Classify: {
        screen: _Classify2.default
    },
    Login: {
        screen: _Login2.default,
        navigationOptions: function navigationOptions(_ref4) {
            var navigation = _ref4.navigation;
            return {
                header: function header() {
                    return _react2.default.createElement(_NavBar2.default, {
                        title: "登录",
                        navBarbgColor: _StyleConfig2.default.colors.mainColor,
                        navBarLeftAction: function navBarLeftAction() {
                            return navigation.goBack();
                        },
                        navBarLeft: true,
                        __source: {
                            fileName: _jsxFileName,
                            lineNumber: 140
                        }
                    });
                }
            };
        }

    },
    Register: {
        screen: _Register2.default,
        navigationOptions: function navigationOptions(_ref5) {
            var navigation = _ref5.navigation;
            return {
                header: function header() {
                    return _react2.default.createElement(_NavBar2.default, {
                        title: "注册",
                        navBarbgColor: _StyleConfig2.default.colors.mainColor,
                        navBarLeftAction: function navBarLeftAction() {
                            return navigation.goBack();
                        },
                        navBarLeft: true,
                        __source: {
                            fileName: _jsxFileName,
                            lineNumber: 153
                        }
                    });
                }
            };
        }

    },

    SetTime: {
        screen: _SetTime2.default,
        navigationOptions: function navigationOptions(_ref6) {
            var navigation = _ref6.navigation;
            return {
                header: function header() {
                    return _react2.default.createElement(_NavBar2.default, {
                        title: "限时购",
                        navBarbgColor: _StyleConfig2.default.colors.mainColor,
                        navBarLeft: true,
                        navBarLeftAction: function navBarLeftAction() {
                            return navigation.goBack();
                        },

                        navBarRight: function navBarRight() {
                            return _react2.default.createElement(_reactNative.Image, { style: { width: 25,
                                    height: 25, tintColor: "#fff" }, source: require('./static/images/share.png'), __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 173
                                }
                            });
                        },
                        share: true,
                        __source: {
                            fileName: _jsxFileName,
                            lineNumber: 167
                        }
                    });
                }
            };
        }
    },
    SetMeal: {
        screen: _SetMeal2.default,
        navigationOptions: function navigationOptions(_ref7) {
            var navigation = _ref7.navigation;
            return {
                header: function header() {
                    return _react2.default.createElement(_NavBar2.default, {
                        title: "套餐",
                        navBarbgColor: _StyleConfig2.default.colors.mainColor,
                        navBarLeft: true,
                        navBarLeftAction: function navBarLeftAction() {
                            return navigation.goBack();
                        },
                        navBarRight: function navBarRight() {
                            return _react2.default.createElement(_reactNative.Image, { style: { width: 25,
                                    height: 25, tintColor: "#fff" }, source: require('./static/images/share.png'), __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 187
                                }
                            });
                        },
                        share: true,
                        __source: {
                            fileName: _jsxFileName,
                            lineNumber: 182
                        }
                    });
                }
            };
        }
    },
    SetMealD: {
        screen: _SetMealD2.default,
        navigationOptions: function navigationOptions(_ref8) {
            var navigation = _ref8.navigation;
            return {
                header: function header() {
                    return _react2.default.createElement(_NavBar2.default, {
                        title: "套餐详情",
                        navBarbgColor: _StyleConfig2.default.colors.mainColor,
                        navBarLeft: true,
                        navBarLeftAction: function navBarLeftAction() {
                            return navigation.goBack();
                        },
                        navBarRight: function navBarRight() {
                            return _react2.default.createElement(_reactNative.Image, { style: { width: 25,
                                    height: 25, tintColor: "#fff" }, source: require('./static/images/share.png'), __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 201
                                }
                            });
                        },
                        share: true,
                        __source: {
                            fileName: _jsxFileName,
                            lineNumber: 196
                        }
                    });
                }
            };
        }
    },

    Details: {
        screen: _Details2.default,
        navigationOptions: function navigationOptions(_ref9) {
            var navigation = _ref9.navigation;
            return {
                header: function header() {
                    return null;
                }
            };
        }
    },
    AllOrderForm: {
        screen: _AllOrderForm2.default,
        navigationOptions: function navigationOptions(_ref10) {
            var navigation = _ref10.navigation;
            return {
                header: function header() {
                    return null;
                }
            };
        }
    },
    MyPet: {
        screen: _MyPet2.default,
        navigationOptions: function navigationOptions(_ref11) {
            var navigation = _ref11.navigation;
            return {
                header: function header() {
                    return _react2.default.createElement(_NavBar2.default, {
                        title: "我的宠物",
                        navBarbgColor: _StyleConfig2.default.colors.mainColor,
                        navBarLeft: true,
                        navBarLeftAction: function navBarLeftAction() {
                            return navigation.goBack();
                        },

                        __source: {
                            fileName: _jsxFileName,
                            lineNumber: 224
                        }
                    });
                }
            };
        }
    },
    Search: {
        screen: _Search2.default

    },
    ShippingAddress: {
        screen: _ShippingAddress2.default

    }, AddShippingAddress: {
        screen: _AddShippingAddress2.default

    }, Order: {
        screen: _Order2.default

    },
    Setting: {
        screen: _Setting2.default

    }, PayResult: {
        screen: _PayResult2.default

    }

}, {
    headerMode: 'screen',
    initialRouteName: 'TabScreen',
    transitionConfig: function transitionConfig() {
        return {
            screenInterpolator: _CardStackStyleInterpolator2.default.forHorizontal
        };
    },
    navigationOptions: {

        header: null,
        gesturesEnabled: true
    }
});

var setUp = function (_Component) {
    babelHelpers.inherits(setUp, _Component);

    function setUp(props) {
        babelHelpers.classCallCheck(this, setUp);

        var _this = babelHelpers.possibleConstructorReturn(this, (setUp.__proto__ || Object.getPrototypeOf(setUp)).call(this, props));

        _this.state = {
            user: null

        };
        return _this;
    }

    babelHelpers.createClass(setUp, [{
        key: 'componentWillMount',
        value: function componentWillMount() {
            var _this2 = this;

            this.subscription = _reactNative.DeviceEventEmitter.addListener('userNameDidChange', function (user) {
                _this2.setState({
                    user: user
                });
            });

            storage.load({
                key: 'user'
            }).then(function (ret) {

                _this2.setState({

                    user: ret

                });
            }).catch(function (err) {});
        }
    }, {
        key: 'componentWillUnmount',
        value: function componentWillUnmount() {
            if (this.subscription) this.subscription.remove();
        }
    }, {
        key: 'render',
        value: function render() {

            return _react2.default.createElement(RootScene, { screenProps: { user: this.state.user }, __source: {
                    fileName: _jsxFileName,
                    lineNumber: 312
                }
            });
        }
    }]);
    return setUp;
}(_react.Component);

exports.default = setUp;